# deeplocalizer
[![wercker status](https://app.wercker.com/status/72f60f68e9fc109d741b99d084f0a593/m "wercker status")](https://app.wercker.com/project/bykey/72f60f68e9fc109d741b99d084f0a593)

This project aims to train a deep network to classify BeesBook image tags.

## Build

To build the code run:

```
$ mkdir build
$ cd build
$ cmake ..
$ make
```
## Run the Tests

Built the code and then run in you build directory:

```
$ ctest
```

## Tagger

I build a some small programs to create a training dataset.

To create a dataset follow these steps:

### Create a file of image paths

Create a file with the paths to the images you want to tag.
Your file should look like this:
```
Cam_2_20140805143859_2.jpeg
Cam_2_20140805142820_2.jpeg
Cam_2_20140805145011_4.jpeg
```
One path per line.

You can use the `find_all_images.sh` script to find all images in a directory.

```
$ ./scripts/find_all_images.sh DIRECTORY > images.txt
```

### add_border

Some tags are to near to border of the image. The `add_border` program
adds enough border so not tag is cut of.

```
$ add_boder -o OUTPUT_DIRCTORY images.txt
```

The new images will be saved to the OUTPUT_DIRECTORY.

### generate_proposals

The next step is to use the BeesBook pipeline to generate proposals.

```
$ generate_proposals FILE_WITH_PATHS
```
where FILE_WITH_PATHS is the one generated by add_border.
generate_proposals creates a `.desc` file for every image.

### tagger

Start the tagging GUI.

$ tagger FILE_WITH_PATHS

tagger finds the `.desc` files and updates them as you tag.
